def Foo oneof { A, B, C, D }

say "$(Foo.A)"
fail unless "$(Foo.A)" == "Foo.A"

for x in [Foo.A, Foo.B, Foo.C, Foo.D]
    when x is A
        say "$x is A!"
    is B
        say "$x is B!"
    else
        say "$x is something else"

def Baz oneof {
    Text:String
    Integer:Int
    Vec2:{x:Num,y:Num}
    Nil,
}

bazzes := [Baz.Text("hi"), Baz.Integer(5), Baz.Vec2({2.4, 4}), Baz.Nil]

for b in bazzes
    when b is t:Text
        say "$t"
    is i:Integer
        say "$i"
    is v:Vec2
        say "$v"
    is Nil
        say "nil"

