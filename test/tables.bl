t := @{"abc"=>1, "def"=>2}
>>> t
=== @{"abc"=>1, "def"=>2}

>>> #t
=== 2

>>> t["abc"]
=== 1

>>> t["cba"[..to.. by -1]]
=== 1

>>> t["abc"] += 10
>>> t
=== @{"abc"=>11, "def"=>2}

do
    >>> t["missing"]
    fail "Missing key lookup failed to skip ahead"
else
    say "(table lookup successfully skipped out of the block)"

>>> t["new_key"] = 3
>>> t
=== @{"abc"=>11, "def"=>2, "new_key"=>3}
>>> t["new_key"]
=== 3

>>> del t["abc"]
>>> t
=== @{"new_key"=>3, "def"=>2}

>>> t2 := {{1=>2}=>yes}
>>> t2
=== {{1=>2}=>yes}
>>> t2[{1=>2}]
=== yes

// Fallbacks:
>>> t := @{1=>10, 2=>20; fallback={3=>33}}
>>> t
=== @{1=>10, 2=>20}
>>> t[3]
=== 33
>>> t[3] *= 100
>>> t
=== @{1=>10, 2=>20, 3=>3300}

// Defaults:
>>> t := @{1=>10, 2=>20; default=0}
>>> t[3]
=== 0
>>> t[3] += 1
>>> t
=== @{1=>10, 2=>20, 3=>1}

// Both:
>>> t := @{1=>10, 2=>20; fallback={3=>33}; default=0}
>>> t[3]
=== 33
>>> t[3] += 1
>>> t[4] += 1
>>> t
=== @{1=>10, 2=>20, 3=>34, 4=>1}

// Equality:
>>> {1=>2} == {1=>2; default=0}
=== no
>>> {1=>2; default=99} == {1=>2; default=0}
=== no
>>> {1=>2; default=99} == {1=>2; default=99}
=== yes

>>> {1=>2; fallback={2=>3}} == {1=>2}
=== no

>>> {1=>2; fallback={2=>3}} == {1=>2; fallback={2=>3}}
=== yes
